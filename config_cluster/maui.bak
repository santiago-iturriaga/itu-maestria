# maui.cfg 3.2.6p19

SERVERHOST      cluster.fing.edu.uy

# Primary admin must be first in list
ADMIN1          root
ADMIN2          siturria
ADMIN3          ALL

# Resource Manager Definition
RMCFG[pbs_oscar]    TYPE=PBS

# Allocation Manager Definition

AMCFG[bank]     TYPE=NONE

# Full parameter docs at http://supercluster.org/mauidocs/a.fparameters.html
# use the 'schedctl -l' command to display current configuration

RMPOLLINTERVAL      00:01:30
RMTIMEOUT           30
NODEPOLLFREQUENCY   2
NODESYNCTIME        00:15:00
CHECKPOINTINTERVAL  00:10:00

SERVERPORT          42559
SERVERMODE          NORMAL

# Admin: http://supercluster.org/mauidocs/a.esecurity.html

LOGFILE             maui.log
LOGFILEMAXSIZE      10000000
LOGLEVEL            0

# Job Priority: http://supercluster.org/mauidocs/5.1jobprioritization.html

QUEUETIMEWEIGHT     1

# FairShare: http://supercluster.org/mauidocs/6.3fairshare.html

FSWEIGHT            1
FSCLASSWEIGHT       5
FSPOLICY            DEDICATEDPS
FSDEPTH             7
FSINTERVAL          12:00:00
FSDECAY             0.80

# Backfill: http://supercluster.org/mauidocs/8.2backfill.html

BACKFILLPOLICY      FIRSTFIT

RESERVATIONDEPTH    1
RESERVATIONPOLICY   CURRENTHIGHEST

# Node Allocation: http://supercluster.org/mauidocs/5.2nodeallocation.html

NODEALLOCATIONPOLICY    MINRESOURCE
#LASTAVAILABLE
NODEACCESSPOLICY        SHARED
NODEAVAILABILITYPOLICY  COMBINED
#NODEAVAILABILITYPOLICY DEDICATED
#NODEAVAILABILITYPOLICY DEDICATED:PROCS COMBINED:MEM

ENABLEMULTIREQJOBS          TRUE
ENABLESTARTESTIMATESTATS    TRUE

# Creds: http://supercluster.org/mauidocs/6.1fairnessoverview.html

CREDWEIGHT      1
CLASSWEIGHT     1

# =============================================================
# Queues priorities
# =============================================================

# publica == small_jobs
CLASSCFG[publica]       PRIORITY=10
CLASSCFG[publica]       FSTARGET=40.0
CLASSCFG[medium_jobs]   PRIORITY=5
CLASSCFG[medium_jobs]   FSTARGET=30.0
CLASSCFG[long_jobs]     PRIORITY=1
CLASSCFG[long_jobs]     FSTARGET=15.0
CLASSCFG[big_jobs]      PRIORITY=1
CLASSCFG[big_jobs]      FSTARGET=15.0
CLASSCFG[quick_jobs]    PRIORITY=100

#CLASSCFG[publica]   PRIORITY=1
#CLASSCFG[publica]   FSTARGET=25.0
#CLASSCFG[privada]   PRIORITY=4
#CLASSCFG[privada]   FSTARGET=75.0
#CLASSCFG[especial]  PRIORITY=10080
#CLASSCFG[big_jobs]  PRIORITY=1
#CLASSCFG[big_jobs]  FSTARGET=25.0

# =============================================================
# Partitions (max. 2 partitions)
# =============================================================

NODECFG[node02.cluster.fing] PARTITION=general
NODECFG[node03.cluster.fing] PARTITION=general
NODECFG[node04.cluster.fing] PARTITION=general
NODECFG[node05.cluster.fing] PARTITION=general
NODECFG[node06.cluster.fing] PARTITION=general
NODECFG[node07.cluster.fing] PARTITION=general
NODECFG[node08.cluster.fing] PARTITION=general
NODECFG[node09.cluster.fing] PARTITION=general
#NODECFG[node20.cluster.fing] PARTITION=general
NODECFG[node21.cluster.fing] PARTITION=general
#NODECFG[node22.cluster.fing] PARTITION=general
#NODECFG[node23.cluster.fing] PARTITION=general
NODECFG[node30.cluster.fing] PARTITION=general
NODECFG[node31.cluster.fing] PARTITION=general
NODECFG[node32.cluster.fing] PARTITION=general
NODECFG[node33.cluster.fing] PARTITION=general
NODECFG[node34.cluster.fing] PARTITION=general
NODECFG[node35.cluster.fing] PARTITION=general
NODECFG[node36.cluster.fing] PARTITION=general
NODECFG[node37.cluster.fing] PARTITION=general
NODECFG[node38.cluster.fing] PARTITION=quick
#NODECFG[telsa.cluster.fing] PARTITION=general

CLASSCFG[publica]       PLIST=general
CLASSCFG[medium_jobs]   PLIST=general
CLASSCFG[long_jobs]     PLIST=general
CLASSCFG[big_jobs]      PLIST=general
CLASSCFG[quick_jobs]    PLIST=quick

# =============================================================
# Standing reservations
# =============================================================

# Reserva grupo eolica. 1 nodo 8 CPU (node0X o node2X) entre las 16:00 y las 02:00.
#SRCFG[eolica] PERIOD=INFINITY
#SRCFG[eolica] STARTTIME=16:00:00 ENDTIME=02:00:00
#SRCFG[eolica] RESOURCES=PROCS:-1
#SRCFG[eolica] HOSTLIST=node02.cluster.fing
#SRCFG[eolica] USERLIST=aguti

#SRCFG[eolres] PERIOD=INFINITY
#SRCFG[eolres] STARTTIME=16:00:00 ENDTIME=02:00:00
#SRCFG[eolres] RESOURCES=PROCS:-1
#SRCFG[eolres] HOSTLIST=node03.cluster.fing
#SRCFG[eolres] USERLIST=aguti

SRCFG[eolica] PERIOD=INFINITY
SRCFG[eolica] STARTTIME=16:30:00
SRCFG[eolica] ENDTIME=08:30:00
SRCFG[eolica] TPN=1
SRCFG[eolica] TASKCOUNT=1
SRCFG[eolica] RESOURCES=PROCS:8
SRCFG[eolica] NODEFEATURES=class0
SRCFG[eolica] USERLIST=eolico

SRCFG[rodrigoa] PERIOD=INFINITY
SRCFG[rodrigoa] RESOURCES=PROCS:8
SRCFG[rodrigoa] HOSTLIST=node06.cluster.fing
SRCFG[rodrigoa] USERLIST=rodrigoa

#SRCFG[galnares] PERIOD=INFINITY
##SRCFG[galnares] STARTTIME=00:00:00
##SRCFG[galnares] ENDTIME=23:59:59
#SRCFG[galnares] TPN=1
#SRCFG[galnares] TASKCOUNT=1
#SRCFG[galnares] RESOURCES=PROCS:24
#SRCFG[galnares] NODEFEATURES=class2
#SRCFG[galnares] USERLIST=matiasg,sergion

#SRCFG[jamal] PERIOD=INFINITY
#SRCFG[jamal] TPN=1
#SRCFG[jamal] TASKCOUNT=1
#SRCFG[jamal] RESOURCES=PROCS:24
#SRCFG[jamal] USERLIST=jamal,sergion,siturria

#SRCFG[situ] PERIOD=INFINITY
#SRCFG[situ] TPN=1
#SRCFG[situ] TASKCOUNT=1
#SRCFG[situ] RESOURCES=PROCS:24
#SRCFG[situ] USERLIST=siturria

#SRCFG[prueba] PERIOD=INFINITY
#SRCFG[prueba] STARTTIME=03:00:00 ENDTIME=06:30:00
#SRCFG[prueba] RESOURCES=PROCS:-1
#SRCFG[prueba] HOSTLIST=node03.cluster.fing
#SRCFG[prueba] USERLIST=siturria
