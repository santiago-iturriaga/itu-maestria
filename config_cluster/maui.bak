# maui.cfg 3.2.6p19

SERVERHOST      cluster.fing.edu.uy

# Primary admin must be first in list
ADMIN1          root
ADMIN2          siturria
ADMIN3          ALL

# Resource Manager Definition
RMCFG[pbs_oscar]    TYPE=PBS

# Allocation Manager Definition

AMCFG[bank]     TYPE=NONE

# Full parameter docs at http://supercluster.org/mauidocs/a.fparameters.html
# use the 'schedctl -l' command to display current configuration

RMPOLLINTERVAL      00:01:30
RMTIMEOUT           30
NODEPOLLFREQUENCY   2
NODESYNCTIME        00:15:00
CHECKPOINTINTERVAL  00:10:00

SERVERPORT          42559
SERVERMODE          NORMAL

# Admin: http://supercluster.org/mauidocs/a.esecurity.html

LOGFILE             maui.log
LOGFILEMAXSIZE      10000000
LOGLEVEL            0

# Job Priority: http://supercluster.org/mauidocs/5.1jobprioritization.html

QUEUETIMEWEIGHT     1

# FairShare: http://supercluster.org/mauidocs/6.3fairshare.html

FSWEIGHT            1
FSCLASSWEIGHT       5
FSPOLICY            DEDICATEDPS
FSDEPTH             7
FSINTERVAL          12:00:00
FSDECAY             0.80

# Backfill: http://supercluster.org/mauidocs/8.2backfill.html

BACKFILLPOLICY      FIRSTFIT

RESERVATIONDEPTH    1
RESERVATIONPOLICY   CURRENTHIGHEST

# Node Allocation: http://supercluster.org/mauidocs/5.2nodeallocation.html

NODEALLOCATIONPOLICY    MINRESOURCE
#LASTAVAILABLE
NODEACCESSPOLICY        SHARED
NODEAVAILABILITYPOLICY  COMBINED
#NODEAVAILABILITYPOLICY DEDICATED
#NODEAVAILABILITYPOLICY DEDICATED:PROCS COMBINED:MEM

ENABLEMULTIREQJOBS          TRUE
ENABLESTARTESTIMATESTATS    TRUE

# Creds: http://supercluster.org/mauidocs/6.1fairnessoverview.html

CREDWEIGHT      1
CLASSWEIGHT     1

# =============================================================
# Partitions (max. 2 partitions)
# =============================================================

#NODECFG[node02.cluster.fing] PARTITION=general
#NODECFG[node03.cluster.fing] PARTITION=general
#NODECFG[node04.cluster.fing] PARTITION=general
#NODECFG[node05.cluster.fing] PARTITION=general
#NODECFG[node06.cluster.fing] PARTITION=general

# submit node de usuarios externos
NODECFG[node07.cluster.fing] PARTITION=sys

#NODECFG[node08.cluster.fing] PARTITION=general
#NODECFG[node09.cluster.fing] PARTITION=general
#NODECFG[node20.cluster.fing] PARTITION=sys
#NODECFG[node21.cluster.fing] PARTITION=general
#NODECFG[node22.cluster.fing] PARTITION=sys

# fileserver (/home)
NODECFG[node23.cluster.fing] PARTITION=sys

#NODECFG[node30.cluster.fing] PARTITION=general
#NODECFG[node31.cluster.fing] PARTITION=general
#NODECFG[node32.cluster.fing] PARTITION=general
#NODECFG[node33.cluster.fing] PARTITION=general
#NODECFG[node34.cluster.fing] PARTITION=general
#NODECFG[node35.cluster.fing] PARTITION=general
#NODECFG[node36.cluster.fing] PARTITION=general
#NODECFG[node37.cluster.fing] PARTITION=general

# Miguel (ourgrid)
NODECFG[node38.cluster.fing] PARTITION=sys

#NODECFG[telsa.cluster.fing] PARTITION=gpu

# =============================================================
# Queues config
# =============================================================

# publica == small_jobs

CLASSCFG[publica]       PRIORITY=10 
CLASSCFG[publica]       FSTARGET=40.0
CLASSCFG[medium_jobs]   PRIORITY=5
CLASSCFG[medium_jobs]   FSTARGET=30.0
CLASSCFG[long_jobs]     PRIORITY=1
CLASSCFG[long_jobs]     FSTARGET=15.0
CLASSCFG[big_jobs]      PRIORITY=1
CLASSCFG[big_jobs]      FSTARGET=15.0
CLASSCFG[quick_jobs]    PRIORITY=100

# Todos los usuarios pueden ejecutar en la particion general y en quick
#SYSCFG[base]            PLIST=general,eolo,quick&
#SYSCFG[base]            PLIST=

# El usuario eolico solo puede ejecutar en la particion eolico
# el resto de los usuarios solo pueden ejecutar en general o quick
#USERCFG[DEFAULT]	PLIST=general,quick&
#USERCFG[eolico]	PLIST=eolo

#CLASSCFG[publica]       PLIST=general
#CLASSCFG[medium_jobs]   PLIST=general
#CLASSCFG[long_jobs]     PLIST=general
#CLASSCFG[big_jobs]      PLIST=general

#CLASSCFG[publica]       PLIST=general:eolica
#CLASSCFG[medium_jobs]   PLIST=general:eolica
#CLASSCFG[long_jobs]     PLIST=general:eolica
#CLASSCFG[big_jobs]      PLIST=general:eolica
#CLASSCFG[quick_jobs]    PLIST=quick

#CLASSCFG[publica]   PRIORITY=1
#CLASSCFG[publica]   FSTARGET=25.0
#CLASSCFG[privada]   PRIORITY=4
#CLASSCFG[privada]   FSTARGET=75.0
#CLASSCFG[especial]  PRIORITY=10080
#CLASSCFG[big_jobs]  PRIORITY=1
#CLASSCFG[big_jobs]  FSTARGET=25.0

# =============================================================
# Standing reservations
# =============================================================

#SRCFG[eolica] PERIOD=INFINITY
#SRCFG[eolica] TPN=1
#SRCFG[eolica] TASKCOUNT=2
#SRCFG[eolica] RESOURCES=PROCS:8
#SRCFG[eolica] NODEFEATURES=class0
#SRCFG[eolica] USERLIST=eolico

SRCFG[eolo] PERIOD=INFINITY
SRCFG[eolo] HOSTLIST=node08.cluster.fing,node09.cluster.fing
SRCFG[eolo] USERLIST=eolico

#SRCFG[eolo] PERIOD=INFINITY
#SRCFG[eolo] HOSTLIST=node05.fing.edu.uy,node06.fing.edu.uy,node07.fing.edu.uy,node08.cluster.fing,node09.cluster.fing
#SRCFG[eolo] USERLIST=eolico

SRCFG[quick] PERIOD=INFINITY
SRCFG[quick] HOSTLIST=node32.cluster.fing
SRCFG[quick] CLASSLIST=quick_jobs

#SRCFG[mantenimiento] STARTTIME=05:00
#SRCFG[mantenimiento] ENDTIME=23:59

